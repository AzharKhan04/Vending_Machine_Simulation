(this["webpackJsonpvending-machine-app"]=this["webpackJsonpvending-machine-app"]||[]).push([[0],{118:function(e,t,c){},119:function(e,t,c){},122:function(e,t,c){},126:function(e,t){},128:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),i=c(24),o=c.n(i),a=(c(118),c(12)),u=(c(119),c(1)),d=function(e){return Object(u.jsx)("div",{className:"bottom",children:e.children})},s=c(14),l=c(34),p=c.n(l),j=c(51),b=(c(122),function(e){var t=["ui_card"].concat(Object(s.a)(e.clasess));return Object(u.jsx)("div",{className:t.join(" "),children:e.children})});b.defaultProps={clasess:[]};var m=b,O=c(186),h=c(182),x=function(e){var t=e.data;return Object(u.jsx)(n.a.Fragment,{children:Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(u.jsx)("div",{style:{textAlign:"start",paddingTop:"10px"},children:t.productName}),Object(u.jsx)("div",{style:{textAlign:"start",paddingTop:"10px"},children:Object(u.jsxs)("strong",{children:[" \u20b9","".concat(t.productPrice||"")]})})]})})};x.defaultProps={data:{}};var f=x,v=[{id:0,productCount:100,productDescription:"Culpa sed tenetur incidunt quia veniam sed molliti",productName:"Nulla",productPrice:207},{id:1,productCount:100,productDescription:"Nam incidunt blanditiis odio inventore. Nobis volu",productName:"Corporis",productPrice:271},{id:2,productCount:100,productDescription:"Quod reiciendis aspernatur ipsum cum debitis. Quis",productName:"Minus",productPrice:295},{id:3,productCount:100,productDescription:"Occaecati dolore assumenda facilis error quaerat. ",productName:"Qui",productPrice:280},{id:4,productCount:100,productDescription:"Autem blanditiis similique saepe excepturi at erro",productName:"Similique",productPrice:262},{id:5,productCount:100,productDescription:"Quos accusamus distinctio voluptates ducimus neque",productName:"Soluta",productPrice:109},{id:6,productCount:100,productDescription:"Error voluptate recusandae reiciendis adipisci nec",productName:"Quos",productPrice:247},{id:7,productCount:100,productDescription:"Tempora sed explicabo quae recusandae vitae debiti",productName:"Sunt",productPrice:297},{id:8,productCount:100,productDescription:"Id pariatur at modi esse distinctio error. Dolores",productName:"Nemo",productPrice:143},{id:9,productCount:100,productDescription:"Explicabo distinctio labore eius. Culpa provident ",productName:"Quo",productPrice:150},{id:10,productCount:100,productDescription:"Reprehenderit iste quos amet. Natus consequatur in",productName:"Nobis",productPrice:195},{id:11,productCount:100,productDescription:"Nihil magni libero sapiente voluptate. Perspiciati",productName:"Explicabo",productPrice:253},{id:12,productCount:100,productDescription:"Ut assumenda soluta esse officia. Quos quaerat sus",productName:"Hic",productPrice:178},{id:13,productCount:100,productDescription:"Aut quam nisi libero distinctio. Temporibus rerum ",productName:"Occaecati",productPrice:199},{id:14,productCount:100,productDescription:"Iste repudiandae nostrum ea iste voluptate ducimus",productName:"Consequatur",productPrice:152},{id:15,productCount:100,productDescription:"Sint aperiam voluptatum laudantium laborum at debi",productName:"Assumenda",productPrice:236},{id:16,productCount:100,productDescription:"Temporibus reiciendis inventore ratione asperiores",productName:"Placeat",productPrice:115},{id:17,productCount:100,productDescription:"In sequi cumque quisquam corrupti doloribus suscip",productName:"Facilis",productPrice:130},{id:18,productCount:100,productDescription:"Corrupti sint occaecati doloribus maiores. Exceptu",productName:"Ratione",productPrice:117},{id:19,productCount:100,productDescription:"Exercitationem debitis enim eum nemo necessitatibu",productName:"Non",productPrice:230},{id:20,productCount:100,productDescription:"A similique facilis facilis. Excepturi repudiandae",productName:"Quaerat",productPrice:274},{id:21,productCount:100,productDescription:"Maiores eveniet dolores laudantium quae doloribus ",productName:"Fugiat",productPrice:167},{id:22,productCount:100,productDescription:"Quas a at officia quod in quod. Impedit deserunt t",productName:"Voluptas",productPrice:278},{id:23,productCount:100,productDescription:"Alias maiores soluta ab earum asperiores praesenti",productName:"Repellendus",productPrice:285},{id:24,productCount:100,productDescription:"Assumenda debitis voluptatem magnam temporibus mol",productName:"Quibusdam",productPrice:209}];function g(){localStorage.getItem("products")?this.products=JSON.parse(localStorage.getItem("products")):(localStorage.setItem("products",JSON.stringify(v)),this.products=v)}g.prototype.getAllProducts=function(){var e=this;return new Promise((function(t,c){e.products?t(e.products):c({error:"no products found"})}))};var y=g,C=c(44),N={PRODUCT_SELECTED:"PRODUCT_SELECTED",PRODUCT_UNSELECTED:"PRODUCT_UNSELECTED"},S=c(189),P=c(193),D=c(191),E=c(192),w=c(190),T=c(188),k=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)([]),o=Object(a.a)(i,2),d=o[0],l=o[1],b=Object(r.useState)(!1),x=Object(a.a)(b,2),v=x[0],g=x[1],k=Object(C.c)(),A=new y,I=function(){var e=Object(j.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.getAllProducts();case 3:(t=e.sent)&&n(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){I()}),[]);return Object(u.jsxs)("div",{style:{padding:"12px"},children:[Object(u.jsx)(O.a,{sx:{flexGrow:1},children:Object(u.jsx)(h.a,{container:!0,spacing:1,children:c.map((function(e,t){var c="";return d.indexOf(e.id)>-1&&(c="product_selected"),Object(u.jsx)(h.a,{item:!0,xs:6,sm:6,md:3,lg:3,children:Object(u.jsx)("div",{className:c,onClick:function(t){return function(e,t){if(e.preventDefault(),t.productCount<=0)g(!0);else{var c=t.id,r=Object(s.a)(d),n=r.indexOf(c);n>-1?(r.splice(n,1),k({type:N.PRODUCT_UNSELECTED,payload:t})):(r.push(c),k({type:N.PRODUCT_SELECTED,payload:t})),l(r)}}(t,e)},style:{cursor:"pointer"},children:Object(u.jsx)(m,{clasess:["product_container"],children:Object(u.jsx)(f,{data:e},t)})})})}))})}),Object(u.jsxs)(S.a,{open:v,onClose:function(){g(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsx)(w.a,{id:"alert-dialog-title",children:"Sorry"}),Object(u.jsx)(D.a,{children:Object(u.jsx)(E.a,{style:{fontSize:"14px"},id:"alert-dialog-description",children:"This Product Currently Not Available"})}),Object(u.jsx)(P.a,{children:Object(u.jsx)(T.a,{style:{color:"goldenrod"},onClick:function(){g(!1)},children:"Ok"})})]})]})},A=c(187),I=c(21),q=c(97),F=c(180),R=c(178),U=c(195),_=c(175),L=c(181),Q=c(92),J=c.n(Q),W=c(184),M=c(173),B=c(91),z=c.n(B);var H=function(e){var t=e.data,c=e.setData;return Object(u.jsx)(r.Fragment,{children:Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:Object.keys(t).map((function(e,r){var n="".concat(e," : ").concat(t[e]);return Object(u.jsx)("div",{style:{padding:"4px"},children:Object(u.jsx)(M.a,{direction:"row",spacing:2,children:Object(u.jsx)(W.a,{label:n,onDelete:function(r){var n=Object(I.a)({},t);delete n[e],c(n)},deleteIcon:Object(u.jsx)(z.a,{}),variant:"outlined"})},r)},r)}))})})},Y=(c(126),{2e3:100,500:300,200:400,100:1e3,50:2e3,20:3500,10:5e3,5:4500,2:6e3,1:1e4});function G(){localStorage.getItem("currencyAvailabe")?this.currencyAvailabe=JSON.parse(localStorage.getItem("currencyAvailabe")):(localStorage.setItem("currenciesAvailable",JSON.stringify(Y)),this.currencyAvailabe=Y)}G.prototype.getCurrency=function(){var e=this;return console.log(this),new Promise((function(t,c){e.currencyAvailabe?t(e.currencyAvailabe):c("no curreincies foun")}))};var K=new G,V=function(){var e=Object(j.a)(p.a.mark((function e(t,c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(j.a)(p.a.mark((function e(r,n){var i,o,a,u,d,s,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&c||n({error:"Error"}),e.prev=1,i=0,o=0,a=0,t.map((function(e){i+=e.productPrice})),e.next=8,K.getCurrency();case 8:u=e.sent,d=(d=Object.keys(u)).sort((function(e,t){return t-e})),s=Object(I.a)({},u),Object.keys(c).forEach((function(e){o+=Number(c[e])*Number(e),s[e]=s[e]+c[e]})),a=o-i,l={},o<i&&n({error:"Insufficient fund insterted",change:c}),0==a?X(t,s).then((function(e){r({message:"Please Collect Your Product",data:t,change:null})})):(d.forEach((function(e){var t=Number(e),c=Math.floor(a/t);c>0&&u[t]>0&&(s[t]=s[t]-c,l[t]=c,a-=t*c)})),a>0?n({error:"No Change Available",change:c}):X(t,s).then((function(e){r({message:"Please Collect Your Product(s)",change:l,data:t})}))),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),n(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,c){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),X=function(e,t){var c=[];return e.forEach((function(e){c.push(e.id)})),(new y).getAllProducts().then((function(e){var r=e.map((function(e){return c.indexOf(e.id)>-1&&(e.productCount=e.productCount-1),e}));localStorage.setItem("currenciesAvailable",JSON.stringify(t)),localStorage.setItem("products",JSON.stringify(r))}))},Z=V,$=["onClose","value","open"];var ee=function(e){var t=e.onClose,c=e.value,n=e.open,i=Object(q.a)(e,$),o=r.useState(c),d=Object(a.a)(o,2),s=(d[0],d[1]),l=r.useState(["1","2","5","10","20","50","100","200","500","2000"]),p=Object(a.a)(l,2),j=p[0],b=(p[1],r.useState(100)),m=Object(a.a)(b,2),O=m[0],h=m[1],x=r.useState(1),f=Object(a.a)(x,2),v=f[0],g=f[1],y=r.useState({}),C=Object(a.a)(y,2),N=C[0],E=C[1],k=r.useRef(null);return r.useEffect((function(){}),[]),r.useEffect((function(){n||s(c)}),[c,n]),Object(u.jsxs)(S.a,Object(I.a)(Object(I.a)({sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",TransitionProps:{onEntering:function(){null!=k.current&&k.current.focus()}},open:n},i),{},{children:[Object(u.jsx)(w.a,{children:Object(u.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(u.jsx)("div",{children:"Wallet"}),Object(u.jsx)("div",{})]})}),Object(u.jsxs)(D.a,{children:[Object(u.jsxs)("div",{style:{alignItems:"center",display:"flex"},children:[Object(u.jsx)("div",{children:Object(u.jsxs)(U.a,{sx:{m:1,minWidth:80},children:[Object(u.jsx)(F.a,{id:"currency-label",children:"Currency"}),Object(u.jsx)(_.a,{labelId:"currency-label",id:"demo-simple-select-autowidth",value:O,onChange:function(e){h(Number(e.target.value))},autoWidth:!0,label:"Currency",children:j.map((function(e,t){return Object(u.jsx)(R.a,{value:e,children:e},t)}))})]})}),Object(u.jsx)("div",{children:Object(u.jsx)(U.a,{sx:{m:1,minWidth:80},children:Object(u.jsx)(L.a,{value:v,onChange:function(e){var t=e.target.value;t=t&&"string"===typeof t?isNaN(e.target.value)?1:Number(e.target.value)>100?100:Number(e.target.value)<=0?1:Number(e.target.value):1,g(parseInt(t))},InputProps:{inputProps:{min:1,max:100}},type:"number",id:"count",label:"Count",variant:"outlined"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(J.a,{onClick:function(){var e=Object(I.a)({},N);e[O]=v,E(e),h(100),g(1)}})})]}),Object(u.jsx)("div",{children:Object(u.jsx)(H,{setData:function(e){E(e)},data:N})})]}),Object(u.jsxs)(P.a,{children:[Object(u.jsx)(T.a,{style:{color:"goldenrod"},autoFocus:!0,onClick:function(){t()},children:"Cancel"}),Object(u.jsx)(T.a,{style:{color:"goldenrod"},onClick:function(){var c=Object(I.a)({},N);Object.keys(N).length||(c[O]=v),console.log(c),Z(e.productSelected,c).then((function(e){t(e)})).catch((function(e){t(e)}))},children:function(){var e=0;return Object.keys(N).length?Object.keys(N).forEach((function(t){e+=Number(t)*Number(N[t])})):e+=Number(O)*Number(v),"Pay ".concat(e)}()})]})]}))},te=c(93),ce=c.n(te),re=c(94),ne=c.n(re),ie=Object(C.b)((function(e){return{productSelected:e.productSelected}}),{})((function(e){var t=r.useState(!1),c=Object(a.a)(t,2),n=c[0],i=c[1],o=r.useState("INR"),d=Object(a.a)(o,2),s=d[0],l=(d[1],r.useState(!1)),p=Object(a.a)(l,2),j=p[0],b=p[1],m=r.useState({}),x=Object(a.a)(m,2),f=x[0],v=x[1],g=r.useState(1),y=Object(a.a)(g,2),C=y[0],N=y[1];return Object(u.jsxs)(r.Fragment,{children:[e.productSelected&&e.productSelected.length?Object(u.jsx)(O.a,{sx:{flexGrow:1},children:Object(u.jsx)(h.a,{alignItems:"center",container:!0,spacing:2,children:Object(u.jsx)(h.a,{item:!0,xs:12,sm:12,lg:12,children:Object(u.jsx)(A.a,{variant:"h3",gutterBottom:!0,component:"div",children:Object(u.jsxs)(T.a,{onClick:function(){i(!0)},style:{width:"90%",color:"goldenrod",border:"1px solid goldenrod"},variant:"outlined",children:["Proceed to pay \u20b9 ",function(){var t=0;return e.productSelected.forEach((function(e){t+=Number(e.productPrice)})),t}(),Object(u.jsx)(ce.a,{})]})})})})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsx)(ee,{id:"ringtone-menu",keepMounted:!0,open:n,productSelected:e.productSelected,onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(!1),N(C+1),e&&(b(!0),v(e))},value:s},C),Object(u.jsxs)(S.a,{open:j,onClose:function(){b(!1),window.location.reload()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(u.jsxs)(w.a,{style:{fontSize:"16px"},id:"alert-dialog-title",children:[f.message?Object(u.jsx)("div",{style:{textAlign:"center",color:"goldenrod"},children:Object(u.jsx)(ne.a,{iconStyle:{fontSize:"200px"}})}):null,f.message||f.error]}),Object(u.jsx)(D.a,{children:Object(u.jsxs)(E.a,{id:"alert-dialog-description",children:[f.data?Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:f.data.map((function(e,t){return Object(u.jsx)("div",{style:{padding:"4px"},children:Object(u.jsx)(M.a,{direction:"row",spacing:2,children:Object(u.jsx)(W.a,{label:e.productName,variant:"outlined"})},t)},t)}))}):Object(u.jsx)("div",{}),f.change?Object(u.jsxs)(r.Fragment,{children:[Object(u.jsxs)("div",{style:{fontSize:"16px",textAlign:"center",paddingTop:"30px"},children:["Please Collect Your Change ","\u20b9",function(){var e=0;return f&&f.change&&Object.keys(f.change).forEach((function(t){e+=Number(t)*f.change[t]})),e}()]}),Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:Object.keys(f.change).map((function(e,t){var c="".concat(e," : ").concat(f.change[e]);return Object(u.jsx)("div",{style:{padding:"4px"},children:Object(u.jsx)(M.a,{direction:"row",spacing:2,children:Object(u.jsx)(W.a,{label:c,variant:"outlined"})},t)},t)}))})]}):Object(u.jsx)("div",{})]})}),Object(u.jsx)(P.a,{children:Object(u.jsx)(T.a,{style:{color:"goldenrod"},onClick:function(){b(!1),window.location.reload()},autoFocus:!0,children:"OK"})})]})]})})),oe=ie,ae=function(){return Object(u.jsx)("div",{style:{padding:"12px"},children:Object(u.jsxs)(h.a,{style:{textAlign:"start"},container:!0,spacing:1,children:[Object(u.jsx)(h.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(u.jsx)(A.a,{style:{color:"goldenrod"},variant:"h5",gutterBottom:!0,component:"div",children:" Hello there"})}),Object(u.jsx)(h.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(u.jsx)(A.a,{style:{color:"lightgrey"},variant:"",gutterBottom:!0,component:"div",children:" Please click on the products below to buy"})})]})})},ue=n.a.memo(ae);var de=function(){var e=n.a.useState(!1),t=Object(a.a)(e,2);return t[0],t[1],Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(ue,{children:" "})," ",Object(u.jsx)(k,{}),Object(u.jsx)(d,{children:Object(u.jsx)(oe,{})})," "]})},se=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,198)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),r(e),n(e),i(e),o(e)}))},le=c(96),pe={productSelected:[]};var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case N.PRODUCT_SELECTED:var c=Object(s.a)(e.productSelected);return c.push(t.payload),Object(I.a)(Object(I.a)({},e),{},{productSelected:Object(s.a)(c)});case N.PRODUCT_UNSELECTED:var r=Object(s.a)(e.productSelected),n=null;return r.some((function(e,c){e.id==t.payload.id&&(n=c)})),console.log(n),r.splice(n,1),console.log("hh",r),Object(I.a)(Object(I.a)({},e),{},{productSelected:Object(s.a)(r)});default:return e}},be=Object(le.a)(je);o.a.render(Object(u.jsxs)(n.a.StrictMode,{children:[Object(u.jsx)(C.a,{store:be,children:Object(u.jsx)(de,{})})," "]}),document.getElementById("root")),se()}},[[128,1,2]]]);
//# sourceMappingURL=main.73a7f72f.chunk.js.map